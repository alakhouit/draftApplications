<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

	<f:view contentType="text/html">
		<h:form id="teacherForm">
			<p:dataTable var="teacher" value="#{teacherBean.teachers}"
				emptyMessage="Sistemde hiç bir öğretmen bulunmuyor" id="teacherDT" widgetVar="teacherDT" style="width: 500px;">
				<p:column headerText="No" style="width: 20%;">
					<h:outputText value="#{teacher.no}" />
				</p:column>
				<p:column headerText="İsim">
					<h:outputText value="#{teacher.name}" />
				</p:column>
				<p:column headerText="" style="width: 10%;">
					<p:commandButton process="@this" icon="ui-icon-close" title="Sil" oncomplete="PF('deleteConfirmationDialog').show();" update=":teacherForm:deleteConfirmationDialog">
						<f:setPropertyActionListener value="#{teacher}" target="#{teacherBean.paramTeacher}"/>
					</p:commandButton>				
				</p:column>
	
				<f:facet name="footer">
					<p:commandButton value="Yeni Öğretmen Ekle"
						onclick="PF('addDialog').show();"
						icon="ui-icon-add" />
				</f:facet>
			</p:dataTable>
			
			<p:dialog id="addDialog" style="text-align:center" widgetVar="addDialog" header="Sınıf Ekleme">  
	    		<h:outputText value="İsim:" />
	    		<h:inputText id="teacherName" required="true" requiredMessage="İsim alanı boş bırakılamaz" value="#{teacherBean.teacherName}" />
				<p:commandButton value="Yeni Öğretmen Ekle" oncomplete="PF('addDialog').hide();" actionListener="#{teacherBean.addNewTeacher}" update=":teacherForm:teacherDT" />			 	
			</p:dialog>
			
			<p:dialog id="deleteConfirmationDialog" style="text-align:center" widgetVar="deleteConfirmationDialog" header="Onaylama">
				<h:outputText value="'#{teacherBean.paramTeacher.name}' isimli Öğretmeni silmek istediğinizden emin misiniz?" />
	        	<p:commandButton process="@this" value="Evet" icon="ui-icon-check" oncomplete="PF('deleteConfirmationDialog').hide();" action="#{teacherBean.removeTeacher}" update=":teacherForm:teacherDT" />
	        	<p:commandButton value="Hayır" icon="ui-icon-close" onclick="PF('deleteConfirmationDialog').hide();" />
			</p:dialog>
			
			<h:messages/>
			
		</h:form>
	</f:view>
</html>
